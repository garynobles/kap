{% extends 'photobatch/base.html' %}
{% load widget_tweaks %}
{% block content %}
{% include "photobatch/submenu.html" %}

<style>
  path {
    fill: none;
    stroke: #000;
    stroke-width: 3px;
    stroke-linejoin: round;
    stroke-linecap: round;
  }
  white{
    background-color:white; #!important
  }
</style>
{% include "mainheader.html" %}
{% include "photobatch/submenu.html" %}

<div class="container top white">
  <h4 class = "kap">Photobatch</h4>
  <div class="row">
    <div class="col-md-10 mx-auto ">
      <form method="POST" class="post-form">{% csrf_token %}
        <div class="form-group row float-left ">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Photobatch</label>
              {% render_field form.photobatch_id class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Prefix</label>
              {% render_field form.prefix class="form-control" %}
            </div>

            <div class="">
              <label for="inputFirstname" style="color:white;">Prefix</label>
              {% render_field form.created_by class="form-control" %}
            </div>


          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Area Easting</label>
              {% render_field form.area_easting class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Area Northing</label>
              {% render_field form.area_northing class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Context Number</label>
              {% render_field form.context_number class="form-control" %}
            </div>
          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Number Photos</label>
              {% render_field form.number_of_photos class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Number Targets</label>
              {% render_field form.number_targets class="form-control" %}
            </div>
          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Imported to Photoscan</label>
              {% render_field form.imported_photoscan class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Processed on PC</label>
              {% render_field form.processed_on class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Processed By</label>
              {% render_field form.processed_by class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Camera Model</label>
              {% render_field form.camera_model class="form-control" %}
            </div>
          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Aligned</label>
              {% render_field form.aligned class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Accuracy</label>
              {% render_field form.align_accuracy class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Pair Selection</label>
              {% render_field form.align_pair_selection class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Keypoint Limit</label>
              {% render_field form.align_keypoint_limit class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Tiepoint Limit</label>
              {% render_field form.align_tiepoint_limit class="form-control" %}
            </div>
          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Targets Detected</label>
              {% render_field form.detected_targets class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Target Type</label>
              {% render_field form.target_type class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Target Tollerance</label>
              {% render_field form.target_tolerance class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Origional Error</label>
              {% render_field form.target_origional_error class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Optimised Error</label>
              {% render_field form.target_optimised_error class="form-control" %}
            </div>
          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Dense Point Cloud</label>
              {% render_field form.dense_pointcloud  class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Export Points</label>
              {% render_field form.export_points class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Filename</label>
              {% render_field form.export_points_filename class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Offsets</label>
              {% render_field form.export_points_offsets class="form-control" %}
            </div>



          </div>
        </div>




        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">




            <div class="">
              <label for="inputFirstname" style="color:white;">Mesh</label>
              {% render_field form.mesh class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Type</label>
              {% render_field form.mesh_type class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Face Count</label>
              {% render_field form.mesh_face_count class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Interpolation</label>
              {% render_field form.mesh_interpolation class="form-control" %}
            </div>
          </div>
        </div>


        <div class="clearfix"></div>
        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Texture</label>
              {% render_field form.texture  class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Texture Defaults</label>
              {% render_field form.texture_defaults class="form-control" %}
            </div>
          </div>
        </div>



        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">

            <div class="">
              <label for="inputFirstname" style="color:white;">DEM</label>
              {% render_field form.dem class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Coordinate System</label>
              {% render_field form.dem_coordinate_system class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Export DEM</label>
              {% render_field form.export_dem class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Source Data</label>
              {% render_field form.dem_source_data class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Interpolation</label>
              {% render_field form.dem_interpolation class="form-control" %}
            </div>
          </div>
        </div>

        <div class="form-group row float-left">
          <div class="col-sm-10 border border-light rounded pb-2">
            <div class="">
              <label for="inputFirstname" style="color:white;">Orthomosaic</label>
              {% render_field form.orthomosaic  class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white;">Type</label>
              {% render_field form.orthomosaic_type class="form-control" %}
            </div>
            <div class="">
              <label for="inputFirstname" style="color:white; width:210px;">Pixel Size</label>
              {% render_field form.orthomosaic_pixel_size class="form-control" %}
            </div>
          </div>
        </div>




            <div class="form-group row float-left">
              <div class="col-sm-10 border border-light rounded pb-2">

                <div class="">
                  <label for="inputFirstname" style="color:white;">Pixel Size</label>
                  {% render_field form.export_dem_pixel_size class="form-control" %}
                </div>
                <div class="">
                  <label for="inputFirstname" style="color:white;">Geodatabase</label>
                  {% render_field form.export_dem_geodatabase class="form-control" %}
                </div>
              </div>
            </div>

            <div class="form-group row float-left">
              <div class="col-sm-10 border border-light rounded pb-2">
                <div class="">
                  <label for="inputFirstname" style="color:white; width:210px;">PDF</label>
                  {% render_field form.export_report_pdf class="form-control" %}
                </div>
                <div class="">
                  <label for="inputFirstname" style="color:white;">Orthophoto</label>
                  {% render_field form.export_orthophoto class="form-control" %}
                </div>
                <div class="">
                  <label for="inputFirstname" style="color:white;">Processed</label>
                  {% render_field form.folder_processed class="form-control" %}
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-10 mx-auto ">
            <div class="form-group row float-left">
              <div class=" border border-light rounded pb-2">
                <div class="">
                  <label for="inputFirstname" style="color:white;">Processing Notes</label>
                  {% render_field form.processing_notes class="form-control" %}

                </div>

              </div>

            </div>

            <div class="border border-light ml-3 float-right ">
              <svg width="500" height="500">
                <rect fill="#fff" width="100%" height="100%"></rect>
              </svg>
            </div>

            <button type="submit" class="save btn btn-dark mt-3t btn-success" style="position: fixed; top: 180px; right: 25%;">Save</button>

          </form>
        </div>


      </div>




      <script src="//d3js.org/d3.v4.min.js"></script>
      <script>

        var line = d3.line()
        .curve(d3.curveBasis);

        var svg = d3.select("svg")
        .call(d3.drag()
        .container(function() { return this; })
        .subject(function() { var p = [d3.event.x, d3.event.y]; return [p, p]; })
        .on("start", dragstarted));

        function dragstarted() {
          var d = d3.event.subject,
          active = svg.append("path").datum(d),
          x0 = d3.event.x,
          y0 = d3.event.y;

          d3.event.on("drag", function() {
            var x1 = d3.event.x,
            y1 = d3.event.y,
            dx = x1 - x0,
            dy = y1 - y0;

            if (dx * dx + dy * dy > 100) d.push([x0 = x1, y0 = y1]);
            else d[d.length - 1] = [x1, y1];
            active.attr("d", line);

          });
        }
      </script>




      {% endblock %}<!--    |append_attr:"placeholder:Username"   -->
