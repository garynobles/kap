{% extends "botany_dashboard/base.html" %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
{% include "mainheader.html" %}
{% include "botany_dashboard/submenu.html" %}

<div class="container top">
  <section>
    <h1 style="color:white;">Botany Dashboard</h1>
    <hr />
    <h2  style="color:white;">Graphical Overview</h2>
    <div id="container5" style="min-width: 310px; height: 200px; margin: 0 auto; border-style:solid;"></div>
    <!-- SELECT EXTRACT(EPOCH FROM date_column) from my_table; -->
    <div class="">
      <!-- <div id="container1" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div> -->
      <!-- <div id="container2" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div> -->
      {% include "botany_dashboard/charts/botany_fraction_pie.html" %}
      {% include "botany_dashboard/charts/botany_bar.html" %}
    </div>
    <div class="clearfix"></div>
    <div class="">
      <!-- <div id="container3" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div> -->
      {% include "botany_dashboard/charts/wordcloud1.html" %}
      {% include "botany_dashboard/charts/botany_graph.html" %}
    </div>
  </section>
  <div class="clearfix"></div>
  <div class="">
    <hr />
    <h2>Records Overview</h2>
    <section>
      <a href="{% url 'allflotation' %}">
        <h3>
          <span class="badge badge-dark float-left mr-1">Flotation<span class="badge badge-light ml-1">{{ number }}</span></span>
        </h3>
      </a>
    </section>
    <section>
      <a href="{% url 'allflotation' %}">
        <h3>
          <span class="badge badge-dark float-left mr-1">Flotation<span class="badge badge-light ml-1">{{ number }}</span></span>
        </h3>
      </a>
    </section>
  </div>
  <div class="clearfix"></div>
  <div class="container">
    <hr />
    <h1>Reporting Stats</h1>
    <a href=''>Generate Report</a>
  </div>
</div>
<!--
<script type="text/javascript">


// Create the chart
Highcharts.stockChart('time_test', {
chart: {
backgroundColor: '#343a40',
events: {
load: function() {

// set up the updating of the chart each second
var series = this.series[0];
setInterval(function() {
var x = (new Date()).getTime(), // current time
y = Math.round(Math.random() * 100);
series.addPoint([x, y], true, true);
}, 3000);
}
},
spacingBottom:0,
spacingTop:3,
spacingLeft:0,
spacingRight:0
},

time: {
useUTC: false
},
rangeSelector: {
enabled: false,
/*buttons: [{
count: 30,
type: 'minute',
text: ''

}],
inputEnabled: false,
selected: 0*/
},



exporting: {
enabled: false
},


plotOptions: {
series: {
// color: '#FF0000'
}
},


series: [{
name: 'Random data',
data: (function() {
// generate an array of random data
var data = [],
time = (new Date()).getTime(),
i;

for (i = -50; i <= 0; i += 1) {
data.push([
time + i * 1000,
Math.round(Math.random() * 1)
// Math.round(Math.random() * 100)
]);
}
return data;
}()),
// color: '#868e96',
// color: '#21a4df';
color: '#ffc107',
type: 'spline',
lineWidth: 1,
marker: {
enabled: true,
radius: 2
},
}],

credits: {
enabled: false
},

scrollbar: {
enabled: false,
/*barBackgroundColor: '#343a40',
barBorderRadius: 7,
barBorderWidth: 0,
buttonBackgroundColor: '#343a40',
buttonBorderWidth: 0,
buttonBorderRadius: 7,
trackBackgroundColor: 'none',
trackBorderWidth: 1,
trackBorderRadius: 8,
trackBorderColor: '#343a40'*/
},

xAxis: {

lineWidth: 0,
minorGridLineWidth: 0,
lineColor: 'transparent',
labels: {
enabled: false
},
title: {
enabled: false
},
minorTickLength: 0,
tickLength: 0,
minPadding: 0,
maxPadding: 0
},

yAxis: {
lineWidth: 0,
minorGridLineWidth: 0,

lineColor: 'transparent',
gridLineColor: 'transparent',
labels: {
enabled: false
},
title: {
enabled: false
},
minorTickLength: 0,
tickLength: 0,
minPadding: 0,
maxPadding: 0
},

navigator: {
enabled: false
},




});


</script>













<script type="text/javascript">

// $.getJSON(
//     'https://cdn.rawgit.com/highcharts/highcharts/057b672172ccc6c08fe7dbb27fc17ebca3f5b770/samples/data/usdeur.json',
//     function (data) {

Highcharts.chart('lifeline0', {

chart: {zoomType: 'x',
backgroundColor: '#343a40',
margin: [0, 0, 0, 0]},
title: {text: ''},
subtitle: {text: ''},
xAxis: {

lineWidth: 0,
minorGridLineWidth: 0,
lineColor: 'transparent',
labels: {
enabled: false
},
title: {
enabled: false
},
minorTickLength: 0,
tickLength: 0,
minPadding: 0,
maxPadding: 0
},
yAxis: {
lineWidth: 0,
minorGridLineWidth: 0,

lineColor: 'transparent',
gridLineColor: 'transparent',
labels: {
enabled: false
},
title: {
enabled: false
},
minorTickLength: 0,
tickLength: 0,
minPadding: 0,
maxPadding: 0
},
credits: {enabled: false},
legend: {enabled: false},
plotOptions: {
area: {
fillColor: {
linearGradient: {
x1: 0,
y1: 0,
x2: 0,
y2: 1,

},
stops: [
[0, '#FF0066'],
[1, '#6600FF']
// [0, Highcharts.getOptions().colors[0]],
// [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
]
},
marker: {
radius: 2,
fillColor: '#FFFFFF',
lineColor: '#000000',
},
lineWidth: 1,
lineColor: '#FFFFFF',
states: {
hover: {
lineWidth: 1
}
},
threshold: null
}
},

series: [{
type: 'area',
name: 'Botanical Samples',
data: [
[
1167609600000,
0.7537
],
[
1167696000000,
0.7537
],
[
1167782400000,
0.7559
],
[
1167868800000,
0.7631
],
[
1167955200000,
0.7644
],
[
1168214400000,
0.769
],
[
1168300800000,
0.7683
],
[
1168387200000,
0.77
],
[
1168473600000,
0.7703
],
[
1168560000000,
0.7757
],

]
}]
});
//     }
// );

</script>
-->

<script type="text/javascript">

  // $.getJSON(
  //     'https://cdn.rawgit.com/highcharts/highcharts/057b672172ccc6c08fe7dbb27fc17ebca3f5b770/samples/data/usdeur.json',
  //     function (data) {




  Highcharts.chart('container5', {
    chart: {zoomType: 'x'},
    title: {text: 'Botanical Samples over time'},
    subtitle: {
      text: document.ontouchstart === undefined ?
      'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
    },
    xAxis: {type: 'datetime'},
    yAxis: {
      title: {
        text: 'No. Records'
      }

    },
    credits: {enabled: false},
    legend: {enabled: false},
    plotOptions: {
      area: {
        fillColor: {
          linearGradient: {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: 1
          },
          stops: [
          [0, Highcharts.getOptions().colors[0]],
          [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
          ]
        },
        marker: {
          radius: 2
        },
        lineWidth: 1,
        states: {
          hover: {
            lineWidth: 1
          }
        },
        threshold: null
      }
    },

    series: [{
      type: 'area',
      name: 'Botanical Samples',
      data: [
      [
      1167609600000,
      0.7537
      ],
      [
      1167696000000,
      0.7537
      ],
      [
      1167782400000,
      0.7559
      ],
      [
      1167868800000,
      0.7631
      ],
      [
      1167955200000,
      0.7644
      ],
      [
      1168214400000,
      0.769
      ],
      [
      1168300800000,
      0.7683
      ],
      [
      1168387200000,
      0.77
      ],
      [
      1168473600000,
      0.7703
      ],
      [
      1168560000000,
      0.7757
      ],

      ]
    }]
  });
  //     }
  // );

</script>



Time
{% for name, count in timeseries.items %}
{name: '{{ name }}', y: {{ count }} }
{% if not forloop.last %},
{% endif %}
{% endfor %}
Series
<br />
{% for date in timeseries.all %}
{{ date }}
{% if not forloop.last %},
{% endif %}
{% endfor %}
Now
{% for date in timeseries.all %}
{[ {{ date.datetime }} ]},
{% if not forloop.last %},
{% endif %}
{% endfor %}




{% endblock %}
