{% extends 'fraction/base.html' %}
{% load widget_tweaks %}



{% block content %}
{% include "menu1.html" %}
{% include "fraction/menu2.html" %}
<section>
  <div class="float-right col-sm-1">
    <div class="pt-3">
      <a class="btn btn-default" href="{ url 'editfraction' pk=fraction.pk }"><span class="glyphicon glyphicon-pencil">
        <button type="button" class="btn btn-primary">edit</button>
      </span></a>
    </div>
  </div>
</section>
<div class="container">





  <section>
    <div class="float-right col-sm-9">
      <div class="container">
        <div class="row">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4>
                Compositions
              </h4>
            </div>
            <table class="table table-fixed">
            <!-- <table class="table table-bordered"> -->
              <thead>
                <tr>
                  <th>Composition ID</th>
                  <th>Fraction ID</th>
                  <th>Material Type</th>
                  <th>Fraction</th>
                  <th>Type Count</th>
                  <th>Whole Weight</th>
                  <th>Fragment Weight</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
              {% for fractioncomposition in fractioncomposition.all %}
                <tr>
                  <td>{{ fractioncomposition.fract_comp_id }}</td>
                  <td>{{ fractioncomposition.fraction_id }}</td>
                  <td>{{ fractioncomposition.material_type }}</td>
                  <td>{{ fractioncomposition.fraction }}</td>
                  <td>{{ fractioncomposition.type_count }}</td>
                  <td>{{ fractioncomposition.whole_weight }}</td>
                  <td>{{ fractioncomposition.fragment_weight }}</td>
                  <td>
                  <div class="btn-group" role="group" aria-label="Basic example">
                  <!-- <a href="{ url 'detailfraction' botany.botany_id fraction.fraction_id %}" class="btn btn-warning" role="button">detail++</a> -->
                    <!-- <a href="{ url 'detailfraction' pk=botany_id }" class="btn btn-warning" role="button">detail++</a> -->
                  <a href="{ url 'editcontainersearch' pk=o.pk }" class="btn btn-secondary" role="button">request</a>
                  </div>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>


          </div>
        </div>
      </div>
    </div>
  </section>







    <section>
      <div class="float-right col-sm-9">
        <div class="container">
          <div class="row">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4>
                  Materials
                </h4>
              </div>
              <table class="table table-fixed">
              <!-- <table class="table table-bordered"> -->
                <thead>
                  <tr>
                    <th>Material ID</th>
                    <th>Fraction ID</th>
                    <th>Material</th>
                    <th>sediment</th>
                    <th>stone</th>
                    <th>roots</th>
                    <th>leaves</th>
                    <th>insect_parts</th>
                    <th>charred_dung</th>
                    <th>bone</th>
                    <th>shell</th>

                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                {% for fractionmaterialspresent in fractionmaterialspresent.all %}
                  <tr>
                    <td>{{ fractionmaterialspresent.material_id }}</td>
                    <td>{{ fractionmaterialspresent.fraction_id }}</td>
                    <td>{{ fractionmaterialspresent.material }}</td>
                    <td>{{ fractionmaterialspresent.sediment }}</td>
                    <td>{{ fractionmaterialspresent.stone }}</td>
                    <td>{{ fractionmaterialspresent.roots }}</td>
                    <td>{{ fractionmaterialspresent.leaves }}</td>
                    <td>{{ fractionmaterialspresent.insect_parts }}</td>
                    <td>{{ fractionmaterialspresent.charred_dung }}</td>
                    <td>{{ fractionmaterialspresent.bone }}</td>
                    <td>{{ fractionmaterialspresent.shell }}</td>

                    <td>
                    <div class="btn-group" role="group" aria-label="Basic example">
                    <!-- <a href="{ url 'detailfraction' botany.botany_id fraction.fraction_id %}" class="btn btn-warning" role="button">detail++</a> -->
                      <!-- <a href="{ url 'detailfraction' pk=botany_id }" class="btn btn-warning" role="button">detail++</a> -->
                    <a href="{ url 'editcontainersearch' pk=o.pk }" class="btn btn-secondary" role="button">request</a>
                    </div>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>

              <div class="container">
                  <div id="pie1" style="min-width: 310px; height: 200px; margin: 0 auto; border-style:solid;"></div>
              </div>

              <table class="table table-fixed">
                <tbody style="height: 350px; overflow-y: auto; display: block; width:100%;">
                {% for joinsamplecontainer in joinsamplecontainer.all %}
                  <tr>
                    <td class="col-xs-2 pt-3 pb-3">
                    <a href="% url 'edit_join_sample_container' pk=joinsamplecontainer.id %">
                    #{{ joinsamplecontainer.id }} - {{ joinsamplecontainer.area_easting }}.{{ joinsamplecontainer.area_northing }}.{{ joinsamplecontainer.context_number }}.{{ joinsamplecontainer.sample_number }}
                    </a>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </section>









  <section>




  <section>
    <h4>
      Fraction details here
    </h4>
    <form class="form-inline" action="">
      <div >
        <div class="form-group">
          <label for="store_id" class="col-sm-3 control-label">Fraction Id</label>
          <div class="col-sm-10">
            <input class="form-control" id="store_id" type="text" placeholder="{{ fraction.fraction_id }}" disabled>
          </div>
        </div>
        <div class="form-group">
          <label for="store_name" class="col-sm-3 control-label">Botany ID</label>
          <div class="col-sm-10">
            <input class="form-control" id="store_name" type="text" placeholder="{{ fraction.botany_id }}" disabled>
          </div>
          <div class="col-sm-5">
            <hr class=""/>
          </div>
        </div>
        <div class="form-group">
          <label for="area_northing" class="col-sm-3 control-label">Contextkey</label>
          <div class="col-sm-10">
            <input class="form-control" id="area_northing" type="text" placeholder="{{ botany.area_easting }}.{{ botany.area_northing }}.{{ botany.context_number }}.{{ botany.sample_number }}" disabled>
          </div>
        </div>
        <div class="form-group">
          <label for="store_id" class="col-sm-3 control-label">Entry Date</label>
          <div class="col-sm-10">
            <input class="form-control" id="store_id" type="text" placeholder="{{ fraction.proportion_analysed }}" disabled>
          </div>
        </div>

        <div class="form-group">
          <label for="store_id" class="col-sm-3 control-label">Date of Analysis</label>
          <div class="col-sm-10">
            <input class="form-control" id="store_id" type="text" placeholder="{{ fraction.soil_volume }}" disabled>
          </div>
        </div>
        <div class="form-group">
          <label for="store_id" class="col-sm-3 control-label">Analyst</label>
          <div class="col-sm-10">
            <input class="form-control" id="store_id" type="text" placeholder="{{ fraction.sample_volume }}" disabled>
          </div>
        </div>
        <div class="form-group">
          <label for="store_id" class="col-sm-3 control-label">Notes</label>
          <div class="col-sm-10">
            <input class="form-control" id="store_id" type="text" placeholder="{{ fraction.sample_weight }}" disabled>
          </div>
        </div>




        <!--div class="form-group">
        <label for="area_northing" class="col-sm-3 control-label">Country</label>
        <div class="col-sm-10">
        <select class="input-medium bfh-countries" data-country="US"></select>
      </div-->
      <div class="col-sm-5">
        <!--p>Last updated by {{ store.user }}  {{ store.datestamp }}</p-->

        <hr class=""/>
      </div>



    </div>
    <!--button type="submit" class="btn btn-default">Submit</button-->
  </form>
</section>









</div>
</div>



</main>



  <script>
    Highcharts.chart('container4', {
      chart: {type: 'pie'},
      title: {text: 'Botany per context number'},
      credits: {enabled: false},
      xAxis: {
        categories: [
        {% for entry in dataset %}'C {{ entry.context_number }}'{% if not forloop.last %}, {% endif %}{% endfor %}
        ]
      },
      series: [{
        name: 'Botany Records',
        data: [
        {% for entry in dataset %}
        {{ entry.context_number }}
        {% if not forloop.last %},
        {% endif %}
        {% endfor %}
        ],
        color: 'green'
        // }, {
        //     name: 'Not survived',
        //     data: [
        //       {% for entry in dataset %}{{ entry.context_number }}{% if not forloop.last %}, {% endif %}{% endfor %}
        //     ],
        //     color: 'red'
      }]
    });
  </script>


{% endblock %}
