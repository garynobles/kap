{% extends "dashboard/base.html" %}
{% load widget_tweaks %}

{% load static %}





{% block content %}
{% include "menu1.html" %}
{% include "dashboard/menu2.html" %}





  <script type="text/javascript">


    // Create the chart
    Highcharts.stockChart('time_test', {
      chart: {
        backgroundColor: '#343a40',
        events: {
          load: function() {

            // set up the updating of the chart each second
            var series = this.series[0];
            setInterval(function() {
              var x = (new Date()).getTime(), // current time
                y = Math.round(Math.random() * 100);
              series.addPoint([x, y], true, true);
            }, 3000);
          }
        },
        spacingBottom:0,
        spacingTop:3,
        spacingLeft:0,
        spacingRight:0
      },

      time: {
        useUTC: false
      },
      rangeSelector: {
        enabled: false,
        /*buttons: [{
          count: 30,
          type: 'minute',
          text: ''

        }],
        inputEnabled: false,
        selected: 0*/
      },



      exporting: {
        enabled: false
      },


      plotOptions: {
          series: {
              // color: '#FF0000'
          }
      },


      series: [{
        name: 'Random data',
        data: (function() {
          // generate an array of random data
          var data = [],
            time = (new Date()).getTime(),
            i;

          for (i = -50; i <= 0; i += 1) {
            data.push([
              time + i * 1000,
              Math.round(Math.random() * 1)
              // Math.round(Math.random() * 100)
            ]);
          }
          return data;
        }()),
        // color: '#868e96',
        // color: '#21a4df';
        color: '#ffc107',
        type: 'spline',
        lineWidth: 1,
        marker: {
                enabled: true,
                radius: 2
            },
      }],

      credits: {
        enabled: false
      },

      scrollbar: {
        enabled: false,
        /*barBackgroundColor: '#343a40',
        barBorderRadius: 7,
        barBorderWidth: 0,
        buttonBackgroundColor: '#343a40',
        buttonBorderWidth: 0,
        buttonBorderRadius: 7,
        trackBackgroundColor: 'none',
        trackBorderWidth: 1,
        trackBorderRadius: 8,
        trackBorderColor: '#343a40'*/
      },

      xAxis: {

        lineWidth: 0,
        minorGridLineWidth: 0,
        lineColor: 'transparent',
        labels: {
          enabled: false
        },
        title: {
          enabled: false
        },
        minorTickLength: 0,
        tickLength: 0,
        minPadding: 0,
        maxPadding: 0
      },

      yAxis: {
        lineWidth: 0,
        minorGridLineWidth: 0,

        lineColor: 'transparent',
        gridLineColor: 'transparent',
        labels: {
          enabled: false
        },
        title: {
          enabled: false
        },
        minorTickLength: 0,
        tickLength: 0,
        minPadding: 0,
        maxPadding: 0
      },

      navigator: {
        enabled: false
      },




    });


</script>

















<div class="container">
  <h1>Botany Dashboard</h1>
  <hr />
</ div>

<div class="container">
    <h2>Graphical Overview</h2>
</div>



<div class="container">
    <div id="container5" style="min-width: 310px; height: 200px; margin: 0 auto; border-style:solid;"></div>
</div>
  <!-- SELECT EXTRACT(EPOCH FROM date_column) from my_table; -->
<div class="container">
  <div id="container1" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div>
  <div id="container2" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div>
</div>
<div class="clearfix"></div>

<div class="container">
    <div id="container3" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div>
    <div id="container4" style="width:50%; min-width: 100px; height: 400px; margin: 0 auto; float: left; border-style:solid;"></div>
</div>
</div>



<div class="clearfix"></div>

<div class="container">
  <hr />
  <h2>Records Overview</h2>
  <section>
    <a href="{% url 'allflotation' %}">
      <h3>
        <span class="badge badge-dark float-left mr-1">Flotation<span class="badge badge-light ml-1">{{ count }}</span></span>
      </h3>
    </a>
  </section>

  <section>
    <a href="{% url 'allflotation' %}">
      <h3>
        <span class="badge badge-dark float-left mr-1">Flotation<span class="badge badge-light ml-1">{{ count }}</span></span>
      </h3>
    </a>
  </section>
</div>

<div class="clearfix"></div>

<div class="container">
  <hr />
  <h1>Reporting Stats</h1>
  <a href=''>Generate Report</a>
</div>



      </div>

<!-- {% for entry in dataset %}
  {{ entry.context_number }}
  {% if not forloop.last %},
  {% endif %}
{% endfor %} -->

<!-- Highcharts Botany2

		<script type="text/javascript">

Highcharts.chart('container', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'Botany Overview'
    },
    subtitle: {
        text: 'subtitle'
    },
    xAxis: {
        categories: [
            'Jan',
            'Feb',
            'Mar',
            'Apr',
            'May',
            'Jun',
            'Jul',
            'Aug',
            'Sep',
            'Oct',
            'Nov',
            'Dec'
        ],
        crosshair: true
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Rainfall (mm)'
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        column: {
            pointPadding: 0.2,
            borderWidth: 0
        }
    },
    series: [{
        name: 'Tokyo',
        data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]

    }, {
        name: 'New York',
        data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]

    }, {
        name: 'London',
        data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]

    }, {
        name: 'Berlin',
        data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]

    }]
});
		</script> -->

<!-- Scripts -->

<script type="text/javascript">

// $.getJSON(
//     'https://cdn.rawgit.com/highcharts/highcharts/057b672172ccc6c08fe7dbb27fc17ebca3f5b770/samples/data/usdeur.json',
//     function (data) {

    Highcharts.chart('lifeline0', {

        chart: {zoomType: 'x',
        backgroundColor: '#343a40',
        margin: [0, 0, 0, 0]},
        title: {text: ''},
        subtitle: {text: ''},
        xAxis: {

          lineWidth: 0,
        minorGridLineWidth: 0,
        lineColor: 'transparent',
            labels: {
                enabled: false
            },
            title: {
    enabled: false
},
            minorTickLength: 0,
        tickLength: 0,
        minPadding: 0,
maxPadding: 0
},
yAxis: {
  lineWidth: 0,
  minorGridLineWidth: 0,

  lineColor: 'transparent',
  gridLineColor: 'transparent',
  labels: {
    enabled: false
  },
  title: {
    enabled: false
  },
  minorTickLength: 0,
  tickLength: 0,
  minPadding: 0,
  maxPadding: 0
},
        credits: {enabled: false},
        legend: {enabled: false},
        plotOptions: {
            area: {
                fillColor: {
                    linearGradient: {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 1,

                    },
                    stops: [
                    [0, '#FF0066'],
                    [1, '#6600FF']
                        // [0, Highcharts.getOptions().colors[0]],
                        // [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                    ]
                },
                marker: {
                    radius: 2,
                    fillColor: '#FFFFFF',
                    lineColor: '#000000',
                },
                lineWidth: 1,
                lineColor: '#FFFFFF',
                states: {
                    hover: {
                        lineWidth: 1
                    }
                },
                threshold: null
            }
        },

        series: [{
            type: 'area',
            name: 'Botanical Samples',
            data: [
            [
1167609600000,
0.7537
],
[
1167696000000,
0.7537
],
[
1167782400000,
0.7559
],
[
1167868800000,
0.7631
],
[
1167955200000,
0.7644
],
[
1168214400000,
0.769
],
[
1168300800000,
0.7683
],
[
1168387200000,
0.77
],
[
1168473600000,
0.7703
],
[
1168560000000,
0.7757
],

              ]
        }]
    });
//     }
// );

</script>

<script>
  Highcharts.chart('container1', {
    chart: {
      type: 'line'
    },
    title: {
      text: 'title (manual line plot)'
    },
    credits: {
      enabled: false
    },
    xAxis: {
      categories: [
      'a','b','c','d','e','f','g','h','i'
      ]
    },
    series: [{
      name: 'Botany Records',
      data: [
      1,2,4,7,4,5,7,8,3
      ],
      color: 'green'
      // }, {
      //     name: 'Not survived',
      //     data: [
      //       {% for entry in dataset %}{{ entry.context_number }}{% if not forloop.last %}, {% endif %}{% endfor %}
      //     ],
      //     color: 'red'
    }]
  });
</script>

<script>
  Highcharts.chart('container2', {
    chart: {
      type: 'column'
    },
    title: {
      text: 'Botany per context number'
    },
    credits: {
      enabled: false
    },
    xAxis: {
      categories: [
      {% for entry in dataset %}'C {{ entry.context_number }}'{% if not forloop.last %}, {% endif %}{% endfor %}
      ]
    },
    series: [{
      name: 'Botany Records',
      data: [
      {% for entry in dataset %}
      {{ entry.context_number }}
      {% if not forloop.last %},
      {% endif %}
      {% endfor %}
      ],
      color: 'green'
      // }, {
      //     name: 'Not survived',
      //     data: [
      //       {% for entry in dataset %}{{ entry.context_number }}{% if not forloop.last %}, {% endif %}{% endfor %}
      //     ],
      //     color: 'red'
    }]
  });
</script>

<script>
  Highcharts.chart('container3', {
    chart: {
      type: 'column'
    },
    title: {
      text: 'Botany per context number'
    },
    credits: {
      enabled: false
    },
    xAxis: {
      categories: [
      {% for entry in dataset %}'C {{ entry.context_number }}'{% if not forloop.last %}, {% endif %}{% endfor %}
      ]
    },
    series: [{
      name: 'Botany Records',
      data: [
      {% for entry in dataset %}
      {{ entry.context_number }}
      {% if not forloop.last %},
      {% endif %}
      {% endfor %}
      ],
      color: 'green'
      // }, {
      //     name: 'Not survived',
      //     data: [
      //       {% for entry in dataset %}{{ entry.context_number }}{% if not forloop.last %}, {% endif %}{% endfor %}
      //     ],
      //     color: 'red'
    }]
  });
</script>



  <script>
    Highcharts.chart('container4', {
      chart: {type: 'pie'},
      title: {text: 'Botany per context number'},
      credits: {enabled: false},
      xAxis: {
        categories: [
        {% for entry in dataset %}'C {{ entry.context_number }}'{% if not forloop.last %}, {% endif %}{% endfor %}
        ]
      },
      series: [{
        name: 'Botany Records',
        data: [
        {% for entry in dataset %}
        {{ entry.context_number }}
        {% if not forloop.last %},
        {% endif %}
        {% endfor %}
        ],
        color: 'green'
        // }, {
        //     name: 'Not survived',
        //     data: [
        //       {% for entry in dataset %}{{ entry.context_number }}{% if not forloop.last %}, {% endif %}{% endfor %}
        //     ],
        //     color: 'red'
      }]
    });
  </script>

  <script type="text/javascript">

  // $.getJSON(
  //     'https://cdn.rawgit.com/highcharts/highcharts/057b672172ccc6c08fe7dbb27fc17ebca3f5b770/samples/data/usdeur.json',
  //     function (data) {




    Highcharts.chart('container5', {
        chart: {zoomType: 'x'},
        title: {text: 'Botanical Samples over time'},
        subtitle: {
            text: document.ontouchstart === undefined ?
                    'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
        },
        xAxis: {type: 'datetime'},
        yAxis: {
            title: {
                text: 'No. Records'
            }

        },
        credits: {enabled: false},
        legend: {enabled: false},
        plotOptions: {
            area: {
                fillColor: {
                    linearGradient: {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 1
                    },
                    stops: [
                        [0, Highcharts.getOptions().colors[0]],
                        [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                    ]
                },
                marker: {
                    radius: 2
                },
                lineWidth: 1,
                states: {
                    hover: {
                        lineWidth: 1
                    }
                },
                threshold: null
            }
        },

        series: [{
            type: 'area',
            name: 'Botanical Samples',
            data: [
            [
  1167609600000,
  0.7537
  ],
  [
  1167696000000,
  0.7537
  ],
  [
  1167782400000,
  0.7559
  ],
  [
  1167868800000,
  0.7631
  ],
  [
  1167955200000,
  0.7644
  ],
  [
  1168214400000,
  0.769
  ],
  [
  1168300800000,
  0.7683
  ],
  [
  1168387200000,
  0.77
  ],
  [
  1168473600000,
  0.7703
  ],
  [
  1168560000000,
  0.7757
  ],

              ]
        }]
    });
  //     }
  // );

  </script>


{% endblock %}
